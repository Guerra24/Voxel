apply plugin:'java'
apply plugin:'eclipse'
apply plugin:'application'

mainClassName = 'net.guerra24.voxel.client.bootstrap.Bootstrap'
version = '0.0.10-ALPHA'

if (System.getProperty("os.name").toLowerCase().contains("mac os x")) {
  applicationDefaultJvmArgs = ["-XstartOnFirstThread"]
}

jar {
	include("*net/**")
	include("*org/**")
	include("*org/**")
	include("*assets/**") 
	include("log4j.properties")
	
    manifest {
        attributes 'Voxel-Branch': 'Develop',
                   'Voxel-Version': version
    }
}

buildscript {
	repositories {
		mavenCentral()
    	maven {
     	 url "https://plugins.gradle.org/m2/"
     	 url "https://oss.sonatype.org/content/repositories/snapshots/"
     	 url "https://oss.sonatype.org/content/repositories/releases/" 
    	}
  	}
}

repositories {
	mavenCentral()
	maven {
    	url "https://plugins.gradle.org/m2/"
    	url "https://oss.sonatype.org/content/repositories/snapshots/"
    }
}

dependencies {
	compile 'log4j:log4j:1.2.17'
	compile 'com.badlogicgames.ashley:ashley:1.6.0'
	compile 'org.l33tlabs.twl:pngdecoder:1.+'
	compile 'de.jarnbjo:j-ogg-all:1.0.+'
	compile 'org.jcraft:jorbis:0.0.+'
	compile 'com.esotericsoftware:kryo:3.0.3'
	compile 'org.lwjgl:lwjgl:3.0.0-SNAPSHOT'
	compile 'org.lwjgl:lwjgl-platform:3.0.0-SNAPSHOT:natives-windows'
	compile 'org.lwjgl:lwjgl-platform:3.0.0-SNAPSHOT:natives-linux'
	compile 'org.lwjgl:lwjgl-platform:3.0.0-SNAPSHOT:natives-osx'
	compile 'io.netty:netty-all:5.0.0.Alpha2'
	compile group: 'commons-collections', name: 'commons-collections', version: '3.2'
    testCompile group: 'junit', name: 'junit', version: '4.+'
}

task generateJavaDoc(type: Javadoc) {
	failOnError = false
}

sourceSets {
    main {
        java.srcDir("${projectDir}/src/main/java/")
        resources.srcDir("${projectDir}/src/main/resources")
    }
}
